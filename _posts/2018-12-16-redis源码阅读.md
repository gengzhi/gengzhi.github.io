# redis源码阅读

1.redis server的EventLoop都是主进程处理的

2.redisClient的read write event处理流程（简述）

以一个client命令请求来说明流程

accpect接收到client连接fd 该链接fd（水平触发）绑定read事件以及处理read事件的方法（readQueryFromClient）

当客户端发送数据后aeApiPoll获取到该fd的read事件 read事件由

readQueryFromClient处理socketfd读取数据存储到buf

解析buf到命令参数，根据命令找到dict中对应的命令处理方法

根据命令方法处理命令，将需要返回的数据存储到buf中设置redisClient的write事件以及处理write事件的方法（sendReplyToClient）当客户端fd可写出发写事件将要返回的数据发送到客户端